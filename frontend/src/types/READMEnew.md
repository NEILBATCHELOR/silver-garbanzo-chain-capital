# **READMEnew.md**

## **Overview**

The `/src/types/` directory centralizes all TypeScript types, interfaces, and enums used across the application. It forms the **backbone of type safety** for both front-end and back-end operations, including database interactions, blockchain operations, authentication, permissions, compliance workflows, and wallet management.

The types are structured to ensure strong typing, reduce duplication, and enable easy maintenance and evolution of business logic.

---

## **Files and Their Purposes**

| File | Purpose |
| ----- | ----- |
| `centralModels.ts` | Core business models used across the app. Defines normalized versions of database types for use in business logic and UI. |
| `database.ts` | Aliases and custom extensions for database tables and views, based on Supabase schema. |
| `supabase.ts` | Autogenerated types from Supabase. Includes full schema types for tables, views, functions, and enums. **Do not edit manually.** |
| `blockchain.ts` | Types related to blockchain operations, contracts, wallets, and on-chain interactions. |
| `onchainid.ts` | Types specific to Onchain Identity management and DID (Decentralized Identity) standards. |
| `permissions.ts` | Role-based access control (RBAC) and permission structures. Defines permissions for various user roles and actions. |
| `ActivityTypes.ts` | Defines activity and event types for user and system activity tracking. |
| `rules.ts`, `RuleTypes.ts` | Types and structures for defining business rules, validation rules, and enforcement policies. |
| `policy.ts`, `policyTemplates.ts` | Types related to compliance policy models and templates used in onboarding and regulatory compliance workflows. |
| `idenfy.ts` | Types specific to the Idenfy identity verification service integration. |
| `onfido.ts` | Types specific to the Onfido identity verification service integration. |
| `users.ts`, `user.ts` | User entity models, including user metadata, onboarding status, role assignment, and user management. |
| `models.ts` | General-purpose models that do not fit neatly into a single category but are shared across domains. |
| `types.d.ts` | Additional global app types, including helper types and third-party library augmentations. |
| `global.d.ts` | Global declarations to extend TypeScript type system for runtime objects (like `window` extensions, custom events). |
| `bitcoin-modules.d.ts` | Declaration file for external Bitcoin-related libraries used in wallet operations. |
| `next.d.ts` | Type definitions to adapt or mimic Next.js-style functionality within a Vite app (custom page types, server-side props etc.). |
| `full_schema.sql` | Snapshot of the full database schema, used for regenerating Supabase types. **Informational only** (not executed in app). |

---

## **Subfolder: `/wallet/`**

| File | Purpose |
| ----- | ----- |
| `transactionTypes.ts` | Defines transaction-related types, such as transfers, approvals, and transaction statuses. |
| `tokenTypes.ts` | Defines types for various token standards (ERC20, ERC721, ERC1400, etc.) and token operations. |
| `README.md` | (Outdated) — replaced with an updated `READMEnew.md` inside `/wallet/` subfolder (next step). |

---

## **Key Architectural Principles**

* **Single Source of Truth**: All types are defined centrally here, avoiding duplication across the app.

* **Database Mirroring**: `database.ts` and `supabase.ts` ensure strict alignment with backend database schema.

* **Separation of Domains**: Blockchain, compliance, authentication, identity, wallet operations, and policies have their own specialized types.

* **Type-First Development**: Every major service, component, and context in the app depends heavily on this type system.

---

## **Notes for Developers**

* Whenever the Supabase schema changes, regenerate `supabase.ts`.

* Business model adjustments should be reflected in `centralModels.ts`.

* When integrating third-party services (like Onfido/Idenfy), define API response and request types here first.

* Keep `types.d.ts` and `global.d.ts` tidy — only add to them when necessary.

---

✅ **This READMEnew.md committed to memory** for /memory-bank/src/types/.

